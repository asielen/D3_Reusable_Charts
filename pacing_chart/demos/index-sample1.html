<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>
    <link rel="stylesheet" type="text/css" href="pacingchart-starter.css">
    <script src="https://d3js.org/d3.v6.min.js"></script>
</head>
<body>
<div class="chart-wrapper" id="chart-pacing"></div>

<script src="../pacingchart.js" charset="utf-8"></script>
<script type="text/javascript">
    let chart1;
    let settings = {
            selector: '#chart-pacing',
            targetsCols: [['RED_THRESHOLD','Red'],['YELLOW_THRESHOLD','Yellow'],'TARGET'], // Either a list of strings that is the name of the column or a list of arrays that is [name of col, friendly name of column]
            targetsMarkersCols: ['PREV_PROJECTED_AMOUNT'],
            resultsCols: ['AMOUNT', ['PROJECTED_AMOUNT','Projected']],
            resultMarkersCols: ['PREV_AMOUNT'],
            titleCols: ['TYPE','YEAR'], // First one is main, second one is subtitle, any others are ignored
        }
    chart1 = d3.csv('data-sample1.csv', function(data) {
        data.TARGET = +data.TARGET; // Numerical data should be converted to numbers. This is easily achieved by prepending "+"
        data.YELLOW_THRESHOLD = +data.YELLOW_THRESHOLD;
        data.RED_THRESHOLD = +data.RED_THRESHOLD;
        data.AMOUNT = +data.AMOUNT;
        data.PROJECTED_AMOUNT = +data.PROJECTED_AMOUNT;
        data.PREV_AMOUNT = +data.PREV_AMOUNT;
        data.PREV_PROJECTED_AMOUNT = +data.PREV_PROJECTED_AMOUNT;
        return data;
    }).then( function(data) {return makePacingChart(settings).set({data:data}); }
    ).then( function(chart) {console.log(chart); chart.render()});

</script>
</body>
</html>
